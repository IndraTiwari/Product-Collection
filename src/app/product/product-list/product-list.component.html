<section *ngIf="!showError">
  <section id="htmlData">
    <section class="product-top">
      <section class="add-item">
        <mat-icon (click)="newProduct()" matTooltip="Add new item"
          >add_box</mat-icon
        >
        <mat-icon
          class="material-icons"
          (click)="openPDF()"
          matTooltip="Download pdf"
          >download</mat-icon
        >
      </section>
      <!-- <mat-form-field style="padding:1em">  for filter using customize condition 
   <input matInput placeholder="enter product to search" [(ngModel)]="searchProduct">
 </mat-form-field> -->

      <!-- <mat-form-field style="padding:1em">
   <input matInput (keyup)="productSearch($event.target.value)"  placeholder="enter product to search">
 </mat-form-field> -->

      <form>
        <mat-form-field>
          <input
            matInput
            placeholder="Item to search"
            (keyup)="productSearch($event.target.value)"
            [matAutocomplete]="auto"
            [formControl]="productList"
            alphabetsOnly
          />
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option
              *ngFor="let productItems of filterProduct | async"
              [value]="productItems.productName"
            >
              {{ productItems.productName }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </form>
    </section>
    <!-- <table mat-table [dataSource]="product | productFilter:searchProduct"  matSort> -->

    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>Title</th>
        <td mat-cell *matCellDef="let element">
          <ngx-avatar name="{{ element.productName }}"></ngx-avatar>
        </td>
      </ng-container>

      <ng-container matColumnDef="productName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Product Name</th>
        <td mat-cell *matCellDef="let element">{{ element.productName }}</td>
      </ng-container>

      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef>Category</th>
        <td mat-cell *matCellDef="let element">{{ element.category }}</td>
      </ng-container>

      <ng-container matColumnDef="availableUnits">
        <th mat-header-cell *matHeaderCellDef>Availbale Units</th>
        <td mat-cell *matCellDef="let element">{{ element.availableUnits }}</td>
      </ng-container>

      <ng-container matColumnDef="unitPrice">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Unit Price</th>
        <td mat-cell *matCellDef="let element">
          {{ element.unitPrice | shortValue }}
        </td>
      </ng-container>

      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef>Location</th>
        <td mat-cell *matCellDef="let element">{{ element.location }}</td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Available Date
        </th>
        <td mat-cell *matCellDef="let element">{{ element.date | date }}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element">{{ element.description }}</td>
      </ng-container>

      <ng-container matColumnDef="actions" align="center">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <mat-icon
            class="example-tab-icon"
            (click)="onEdit(element)"
            matTooltip="Edit item"
            >edit</mat-icon
          >
          <mat-icon
            class="material-icons"
            (click)="onDelete(element.id)"
            matTooltip="Delete item"
            >delete</mat-icon
          >
          <mat-icon
            class="material-icons"
            (click)="showQRD(element)"
            matTooltip="View QR Code"
            >qr_code</mat-icon
          >
          <mat-icon (click)="openModal(element)" matTooltip="View graph"
            >bar_chart</mat-icon
          >
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </section>

  <!-- <h3 *ngIf="(product | productFilter:searchProduct).length === 0" align="center">
   {{message}}
 </h3> -->
  <mat-paginator [length]="100" [pageSize]="5" [pageSizeOptions]="[5, 10, 15]">
  </mat-paginator>
</section>
<section *ngIf="showError">
  <app-error></app-error>
</section>
<section *ngIf="showModal">
  <app-graph
    [graphVal]="graphVal"
    [showModal]="showModal"
    (closeModel)="clodeModal($event)"
  ></app-graph>
</section>
